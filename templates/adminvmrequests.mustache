{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template local_cloudsync/adminvmrequests

    Admin search input for page header.

    Example context (json):
    {


    }
}}

<div class="row">
    <div class="col">
        <h2 class="mb-5">{{#str}} adminreqlistheader, local_cloudsync {{/str}}</h2>
    </div>
    {{#active}}
        <div class="col">
            <input type="button" class="btn btn-primary float-right" onclick="location.href='{{req_url}}?active=0'" value="{{#str}} adminreqlistseeclosed, local_cloudsync {{/str}}">
        </div>
    {{/active}}
    {{^active}}
        <div class="col">
            <input type="button" class="btn btn-primary float-right" onclick="location.href='{{req_url}}?active=1'" value="{{#str}} adminreqlistseeactive, local_cloudsync {{/str}}">
        </div>
    {{/active}}
</div>

<table class="table">
    <thead>
        <tr>
            <th scope="col">{{#str}} adminreqlistuser, local_cloudsync {{/str}}</th>
            {{#active}}
                <th scope="col">{{#str}} adminreqlistteacher, local_cloudsync {{/str}}</th>
            {{/active}}
            <th scope="col">{{#str}} userreqlistvm, local_cloudsync {{/str}}</th>
            <th scope="col">{{#str}} userreqliststatus, local_cloudsync {{/str}}</th>
            <th scope="col">{{#str}} userreqlistreqdate, local_cloudsync {{/str}}</th>
            {{^active}}
                <th scope="col">{{#str}} userreqlistrespdate, local_cloudsync {{/str}}</th>
            {{/active}}
        </tr>
    </thead>
    <tbody>
    {{#requests}}
        <tr>
            <td>{{owner_name}}</td>
            {{#active}}
                <td>{{teacher_name}}</td>
            {{/active}}
            <td>{{vm_name}}</td>
            <td>{{status}}</td>
            <td>{{#userdate}} {{created_at}} {{/userdate}}</td>
            {{^active}}
                <td>{{#userdate}} {{closed_at}} {{/userdate}}</td>
            {{/active}}
            {{#active}}
                <td><span class="badge badge-primary link-text" onclick="location.href='{{manage_url}}?id={{id}}'">{{#str}} adminreqlistmanage, local_cloudsync {{/str}}</span></td>
            {{/active}}
            {{^active}}
                <td><span class="badge badge-primary link-text" onclick="location.href='{{single_req_url}}?id={{id}}'">{{#str}} adminreqlistinfo, local_cloudsync {{/str}}</span></td>
            {{/active}}
        </tr>
    {{/requests}}
    </tbody>
</table>